# ShopsCatalog

Выполненное тестовое задание - приложение для Android. 

![image](https://user-images.githubusercontent.com/36709011/40142155-952fca54-5960-11e8-8426-179d6d5b19f5.png) ![image](https://user-images.githubusercontent.com/36709011/40142178-a272f48e-5960-11e8-809f-571fad8c743f.png)

![image](https://user-images.githubusercontent.com/36709011/40142199-ad73647c-5960-11e8-9e6b-4b910ec252a9.png) ![image](https://user-images.githubusercontent.com/36709011/40142225-b57aff22-5960-11e8-9bd9-634a0b2a3b3b.png)

Задание:
Визуальная часть.

Реализовать контейнер, представленный в демонстрационной версии видео-ролика.

При реализации контейнера особое внимание обратить на следующие визуальные эффекты:

1.       Панель с вкладками должна прилипать либо к верху экрана, либо к якорю на исходном уровне (т.е. никаких промежуточных статических состояний)

2.       Панель с вкладками должна наезжать на «Main Сontent» страницы (а не скроллить его вверх), при этом область с «Main content» должна затеняться

3.       Панель с вкладками можно вертикально «тянуть» не только за контент, но и за вкладки

4.       Внутренний контент вкладок должен скроллиться только при полностью раскрытом состоянии панели

5.       При свёртывании панели к исходному состоянию, позиция скроллинга в обеих вкладках должна возвращаться в исходное начальное состояние

6.       При вытягивании панели вверх, за контент вкладки, без отрыва пальца, при достижении верхнего уровня заголовком панели, и при продолжении вытягивания (без отрыва пальца) должен начинать скроллиться внутренний контент текущей вкладки – т.е. движение панели сменится на скроллинг внутреннего контента.

7.       Эффект swipe+refresh должен отрабатывать при свайпе снизу вверх по любой части экрана в его исходном состоянии (т.е. панель опущена вниз, к исходному положению), во всех остальных случаях (т.е. при развёрнутой панели) данный эффект срабатывать не должен.

8.       Переключаться между вкладками необходимо как по клику на название вкладки, так и по горизонтальному свайпу, причём в любом состоянии панели – и свёрнутом, и развёрнутом.

9.       Все активные элементы контента вкладок должны быть кликабельны (с выводом тоста)

 

Работа с данными.

К заданию приложен файл shops.json.

При нажатии на кнопку на первой вкладке (на данном этапе её можно переименовать в «Загрузить справочник») – необходимо как можно быстрее загрузить справочник из файла в assets во внутреннюю базу данных приложения (выбор типа базы данных не ограничивается и предоставляется кандидату).

На время загрузки справочника на экране вместо надписи «Main Сontent» должна быть «Загрузка справочника…».

После окончания загрузки данных, надпись должна смениться на «Загружено N объектов», где N – количество загруженных сущностей, а также первая страница данных должна загрузиться в список на второй вкладке (там, где список месяцев на видео).

Список должен быть реализован в соответствии со следующими требованиями:

1.       Загрузка данных в список должна быть постраничной, размер страницы 30 элементов

2.       Загрузку очередной страницы начинать только при долистывании до последнего элемента текущей страницы

3.       На время загрузки очередной страницы снизу текущей должен быть прогресс

4.       Элементы в списке должны быть отсортированы по возрастанию дальности от текущего местоположения на основе данных из полей сущности latitude/longitude  (если текущее местоположение определить невозможно – в качестве точки отсчёта брать центр Москвы)

5.       В элемент списка в качестве заголовка (вместо названия месяца, как на видео), выводить «name» сущности из справочника, ниже мелким текстом выводить «address», ещё ниже выводить «opening_hours». В правой части элемента выводить расстояние от текущего местоположения (или от центра, если местоположение не определено).
